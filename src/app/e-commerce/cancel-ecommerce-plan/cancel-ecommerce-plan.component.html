<ngx-spinner class="cusSpinner">
    <div class="loader-wrapper">
        <div class="truck-wrapper">
            <div class="truck">
                <div class="truck-container"></div>
                <div class="glases"></div>
                <div class="bonet"></div>
                <div class="base"></div>
                <div class="base-aux"></div>
                <div class="wheel-back"></div>
                <div class="wheel-front"></div>
                <div class="smoke"></div>
            </div>
        </div>
    </div>
</ngx-spinner>
<div *ngIf="!isFlag">
    <div *ngFor="let group of planData" class="mt-4">
        <div class="row">
            <div class="col-sm-10">
                <p class="plan_heading">Your {{group.data?.validity | lowercase}} {{group.data?.title}} plan
                    ({{group.data?.plan_name | titlecase}})
                </p>
            </div>
            <div class="col-sm-2 text-right">
                <mat-checkbox class="example-margin" color="primary" (change)="checkPlan( $event , group )">
                </mat-checkbox>
            </div>
        </div>
        <!-- <div class="cusPlanTit">
            <span>{{group.data.title}}</span>
        </div> -->
        <div class="row d-flex align-items-center">
            <div class="col-sm-6">
                <h4 class="text-capitalize">{{'sub_plan.features' | translate}}</h4>
                <ul class="mb-4">
                    <li *ngFor="let feature of group.data.features" class="mb-2">
                        <span class="pln-act">{{feature.keyName}}</span> :
                        <span class="pln-inAct ml-1">{{feature.keyValue}}</span>
                    </li>
                </ul>
            </div>
            <div class="col-sm-6">
                <p class="m-0"><span class="pln-act">{{'sub_plan.Purchased' | translate}} :</span> <span
                        class="pln-inAct ml-4">{{group.startDate}}</span></p>
                <p class="m-0"><span class="pln-act">{{'sub_plan.Expired' | translate}} : </span> <span
                        class="pln-inAct ml-4">{{group.endDate}}</span></p>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <span class="pln-act">{{'sub_plan.Total' | translate}}</span> <span class="pln-inAct ml-4"
                    style="font-size: 20px;">{{group.data?.finalPrice | currency}}</span>
            </div>
            <!-- <div class="col-sm-6 text-right">
                <button class="btn cus-up-btn" (click)="upgradePlan( list.data.title )"> Upgrade </button>
            </div> -->
        </div>
        <div class="row pt-4 mt-3" style="border-top: 1px solid lightgrey;"></div>
    </div>


    <div class="col-sm-12 mt-2 p-0 text-right">
        <button class="btn cus-up-btn" [disabled]="!cancelPlanData.length" (click)="cancelPlan()"> Confirm
        </button>
        <button class="btn cus-up-btn ml-3" (click)="Close()"> Close
        </button>
    </div>
    <!-- <div class="row pt-4 mt-3" style="border-top: 1px solid lightgrey;"></div> -->
</div>
<div class="d-flex justify-content-center align-items-center" *ngIf="isFlag">
    <div class="extra ">
        <p>{{message}}</p>
        <div class="text-center">
            <button class="btn cus-up-btn ml-3" (click)="Close()"> Close
            </button>
        </div>

    </div>
</div>