<ngx-spinner class="cusSpinner">
    <div class="loader-wrapper">
        <div class="truck-wrapper">
            <div class="truck">
                <div class="truck-container"></div>
                <div class="glases"></div>
                <div class="bonet"></div>
                <div class="base"></div>
                <div class="base-aux"></div>
                <div class="wheel-back"></div>
                <div class="wheel-front"></div>
                <div class="smoke"></div>
            </div>
        </div>
    </div>
</ngx-spinner>
<section class="list-event">
    <div class="cus-round-with-bg list-event">
        <div class="container">
            <div class="row search-filter-mobile">
                <div class="text-right col-sm-12 float-right visible-phone visible-phone-sx"> <button type="button"
                        class="btn common-btn mt-4" (click)="createEvents()"><i
                            class="fa fa-plus"></i><span style="margin-left: 5px;">{{'buttons.create_event' | translate}}</span></button> </div>
                <div class="col-sm-2 in-half wt-100-on-mobile"> <mat-form-field>
                        <div class="cus-search-dropown"> <mat-select [(ngModel)]="isActive"> <mat-option
                                    *ngFor="let list of statusList" [value]="list.value">{{list.name}}</mat-option>
                            </mat-select> </div>
                    </mat-form-field> </div>
                <div class="col-sm-2 pl-sm-0 in-half wt-100-on-mobile"> <mat-form-field>
                        <div class="cus-search-dropown"> <mat-select [(ngModel)]="deleted"> <mat-option
                                    *ngFor="let list of deleteArray" [value]="list.value">{{list.name}}</mat-option>
                            </mat-select> </div>
                    </mat-form-field> </div>
                <div class="col-sm-4 text-left mt-sm-4 in-full pl-sm-0">
                    <div class="cus-search-input"> <input matInput placeholder="Search Event" [(ngModel)]="SearchText"
                            autocomplete="off" class="main" maxlength="10" />
                        <div class="cus-search-input wt-100-on-mobile-btn"> <button type="button" class="btn"
                                (click)="searchEvent()"> <i class="fa fa-search"></i> </button> <button
                                (click)="reset()" class="btn btn-res" label="Reset" title="Reset"> <i
                                    class="fa fa-refresh" title="reset"></i> </button> </div>
                    </div>
                </div>
                <div class="text-right col-sm-4 float-right hidden-phone"> <button type="button"
                        class="btn common-btn mt-4" (click)="createEvents()"><i
                            class="fa fa-plus"></i> <span style="margin-left: 5px;">{{'buttons.create_event' | translate}}</span> </button> </div>
            </div><mat-tab-group (selectedTabChange)="getTabChangeValue($event)" class="cus-mat-bg pb-4"
                [selectedIndex]='selectedIndex'> <mat-tab label="Top">
                    <section class="up-coming">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6 position-relative mt-2 mb-2"
                                    *ngFor="let cardList of eventLists | paginate:{itemsPerPage: itemsPerPage, currentPage: page, totalItems: newtotalCount}; ">
                                    <div class="box-sha">
                                        <div class="cus-eve-header"> <a [routerLink]="['view-event', cardList._id]">
                                                <img class="border-radius"
                                                    *ngIf="cardList.bannerImage=='' || cardList.bannerImage==null"
                                                    src="assets/Truck-banne-bg.png" width="100%" /> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage !='' && cardList.bannerImage !=null "
                                                    src="{{image_url_truck + cardList.bannerImage}}" width="100%" />
                                            </a> </div>
                                        <div class="p-2">
                                            <div class="mt-3">
                                                <div class="d-flex justify-content-between">
                                                    <p class="mt-2">{{cardList.startDate | date: 'MMM-dd-yyyy':'UTC'}}</p>
                                                    <p class="mt-2" >{{cardList.status}}</p>
                                                </div>
                                                
                                                <h5 class="event-heading text-capitalize word-break"> <a
                                                        [routerLink]="['view-event', cardList._id]">{{cardList.name |
                                                        slice: 0:30}}</a> </h5>
                                                <h6 class="mt-2">{{cardList.noOfAttendee}}&nbsp;{{interested}}</h6>
                                            </div>
                                            <div style="justify-content: center">
                                                <p class="for-font"> <strong>{{cardList.countdown}}</strong> </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12" *ngIf="newtotalCount==0 || eventLists?.length==0">
                                    <h5 class="text-center cus-no-recod">{{'No_Records_Found' | translate}}</h5>
                                </div>
                            </div>
                        </div>
                        <div class="text-center mainpagination m-auto" *ngIf="this.newtotalCount > itemsPerPage">
                            <pagination-controls (pageChange)="pageChanged($event,'TOP')"
                                class="custom-pagination-designe"></pagination-controls> </div>
                    </section>
                </mat-tab> <mat-tab label="Weekly">
                    <section class="up-coming">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6"
                                    *ngFor="let cardList of eventLists | paginate:{itemsPerPage: itemsPerPage, currentPage: page, totalItems: newtotalCount}; ">
                                    <div class="box-sha">
                                        <div class="post-event"> <a [routerLink]="['view-event', cardList._id]"> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage=='' || cardList.bannerImage==null "
                                                    src="assets/Truck-banne-bg.png" width="100%" /> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage !='' && cardList.bannerImage !=null"
                                                    src="{{image_url_truck + cardList.bannerImage}}" width="100%" />
                                            </a>
                                            <div class="p-3">
                                                <div class="d-flex justify-content-between">
                                                    <p class="mt-2">{{cardList.startDate | date: 'MMM-dd-yyyy':'UTC'}}</p>
                                                    <p class="mt-2" >{{cardList.status}}</p>
                                                </div>
                                                <h6 class="event-heading text-capitalize word-break"><a
                                                        [routerLink]="['view-event', cardList._id]">{{cardList.name |
                                                        slice: 0:20}}</a></h6>
                                                <p>{{cardList.noOfAttendee}}&nbsp;{{interested}}</p>
                                                <div style="justify-content: center">
                                                    <p class="for-font">{{cardList.countdown}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12" *ngIf="newtotalCount==0 || eventLists?.length==0">
                                    <h5 class="text-center cus-no-recod">{{'No_Records_Found' | translate}}</h5>
                                </div>
                                <div class="text-center mainpagination m-auto"
                                    *ngIf="this.newtotalCount > itemsPerPage"> <pagination-controls
                                        (pageChange)="pageChanged($event,'TOP')"
                                        class="custom-pagination-designe"></pagination-controls> </div>
                            </div>
                        </div>
                    </section>
                </mat-tab> <mat-tab label="All">
                    <section class="up-coming">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6"
                                    *ngFor="let cardList of eventLists | paginate:{itemsPerPage: itemsPerPage, currentPage: page, totalItems: newtotalCount};">
                                    <div class="box-sha">
                                        <div class="post-event"> <a [routerLink]="['view-event', cardList._id]"> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage=='' || cardList.bannerImage==null "
                                                    src="assets/Truck-banne-bg.png" width="100%" /> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage !='' && cardList.bannerImage !=null"
                                                    src="{{image_url_truck + cardList.bannerImage}}" width="100%" />
                                            </a>
                                            <div class="p-3">
                                                <div class="d-flex justify-content-between">
                                                    <p class="mt-2">{{cardList.startDate | date: 'MMM-dd-yyyy':'UTC'}}</p>
                                                    <p class="mt-2" >{{cardList.status}}</p>
                                                </div>
                                                <h6 class="event-heading text-capitalize word-break"><a
                                                        [routerLink]="['view-event', cardList._id]">{{cardList.name |
                                                        slice: 0:20}}</a></h6>
                                                <p>{{cardList.noOfAttendee}}&nbsp;{{interested}}</p>
                                                <div style="justify-content: center">
                                                    <p class="for-font">{{cardList.countdown}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12" *ngIf="newtotalCount==0 || eventLists?.length==0">
                                    <h5 class="text-center cus-no-recod">{{'No_Records_Found' | translate}}</h5>
                                </div>
                            </div>
                        </div>
                        <div class="text-center mainpagination m-auto" *ngIf="this.newtotalCount > itemsPerPage">
                            <pagination-controls (pageChange)="pageChanged($event,'All')"
                                class="custom-pagination-designe"></pagination-controls> </div>
                    </section>
                </mat-tab> <mat-tab label="Booked">
                    <section class="up-coming">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6" *ngFor="let cardList of eventListsbook ">
                                    <div class="box-sha">
                                        <div class="post-event"> <a [routerLink]="['view-event', cardList._id]"> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage=='' || cardList.bannerImage==null"
                                                    src="assets/Truck-banne-bg.png" width="100%" /> <img
                                                    class="border-radius"
                                                    *ngIf="cardList.bannerImage !='' && cardList.bannerImage !=null"
                                                    src="{{image_url_truck + cardList.bannerImage}}" width="100%" />
                                            </a>
                                            <div class="p-3">
                                                <div class="d-flex justify-content-between">
                                                    <p class="mt-2">{{cardList.startDate | date: 'MMM-dd-yyyy':'UTC'}}</p>
                                                    <p class="mt-2" >{{cardList.status}}</p>
                                                </div>
                                                <h6 class="event-heading text-capitalize word-break">{{cardList.name |
                                                    slice: 0:20}}</h6>
                                                <div style="justify-content: center">
                                                    <p class="for-font">{{cardList.countdown}}</p>
                                                    <p> Booked by :&nbsp;{{cardList.bookingCount}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12" *ngIf="bookedTotalCount==0 || eventListsbook?.length==0">
                                    <h5 class="text-center cus-no-recod">{{'No_Records_Found' | translate}}</h5>
                                </div>
                                <div class="text-center mainpagination m-auto" *ngIf="bookedTotalCount > itemsPerPage">
                                    <pagination-controls (pageChange)="pageChanged($event,'BOOKED')"
                                        class="custom-pagination-designe"></pagination-controls> </div>
                            </div>
                        </div>
                    </section>
                </mat-tab> </mat-tab-group>
        </div>
    </div>
</section>