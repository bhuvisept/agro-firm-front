<ngx-spinner class="cusSpinner">
    <div class="loader-wrapper">
        <div class="truck-wrapper">
        <div class="truck">
            <div class="truck-container"></div>
            <div class="glases"></div>
            <div class="bonet"></div>
            <div class="base"></div>
            <div class="base-aux"></div>
            <div class="wheel-back"></div>
            <div class="wheel-front"></div>
            <div class="smoke"></div>
        </div>
        </div>
    </div>
</ngx-spinner>
<section class="cus-round-with-bg">
    <div class="container">
        <div class="row">
            <div class="modal-header col-sm-12"><h3 class="m-0">{{ 'form_lables.job.heading_create' | translate }}</h3></div>
            <div class="modal-body col-sm-12 job-name-form">
                <form [formGroup]="jobCreateForm">
                    <div class="row">
                        <div class="col-sm-8">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.job_title' | translate }} </mat-label> <input type="text" formControlName="title" placeholder="Use a title that best describes the role in your company" matInput required maxlength="75" />
                                <mat-error *ngIf="jobCreateForm.get('title').hasError('required')"> Please enter Job posting headline</mat-error>
                                <mat-error *ngIf="jobCreateForm.get('title').hasError('pattern')"> Please enter valid job posting headline </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.employment_type' | translate }}</mat-label>
                                <mat-select formControlName="employmentType" placeholder="Employment Type" required> <mat-option *ngFor="let list of employees" [value]="list.employees">{{list.employees}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('employmentType').hasError('required')"> Please select employment type </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-12 pro-description">
                            <h6 class="mb-4 switch">{{ 'form_lables.job.job_description' | translate }}<span>*</span></h6>
                            <ckeditor [editor]="editor" formControlName="description" required class="cus-job-diss"></ckeditor>
                            <mat-error style="font-size: 75%;" *ngIf="jobCreateForm.get('description').hasError('required') && jobCreateForm.get('description').touched"> Please enter Job Description </mat-error>
                            <mat-error *ngIf="jobCreateForm.get('description').hasError('pattern')">Only 10000 character should be allowed </mat-error>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.key_skills' | translate }}</mat-label>
                                <mat-select formControlName="skills" placeholder="Key Skills" required multiple> <mat-option *ngFor="let list of skillList" [value]="list._id">{{list.skill}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('skills').hasError('required')"> Please select skills </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.educational_qualification' | translate }} </mat-label>
                                <mat-select formControlName="qualification" placeholder="Qualification" required multiple>
                                    <mat-option *ngFor="let list of qualificationList" [value]="list._id">{{list.qualification}}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('qualification').hasError('required')"> Please select educational qualification </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.work_experience_years' | translate }}</mat-label>
                                <mat-select formControlName="minWorkExp" placeholder="Years" required> <mat-option *ngFor="let list of maxexperience" [value]="list.value">{{list.value}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('minWorkExp').hasError('required')"> Please select years experience </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.work_experience_months' | translate }}</mat-label>
                                <mat-select formControlName="maxWorkExp" placeholder="Month" required> <mat-option *ngFor="let list of minexperience" [value]="list.value">{{list.value}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('maxWorkExp').hasError('required')"> Please select month experience </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field style="width: 100%;" class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.select_currency' | translate }}<span>*</span></mat-label>
                                <mat-select formControlName="currency" class="p-0" placeholder="select miles"> <mat-option *ngFor="let list of currency" value="{{list.currency}}">{{list.currency}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('currency').hasError('required')">Please select currency </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-12"><h6 class="switch">{{ 'form_lables.job.salary_range' | translate }}</h6></div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.salary_type' | translate }}</mat-label>
                                <mat-select formControlName="salaryType" placeholder="Salary type"> <mat-option *ngFor="let list of salaryTypeList" [value]="list.name">{{list.name}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('salaryType').hasError('required')"> Please select salary type </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.min_salary' | translate }}</mat-label> <input type="text" formControlName="minSalary" placeholder="Minimum" matInput   />
                            </mat-form-field>
                        </div>
                        <div class="col-sm-4">
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.max_salary' | translate }}</mat-label> <input type="text" formControlName="maxSalary" placeholder="Maximum" matInput   />
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.location' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label class="cus-log-lab">{{ 'form_lables.job.address' | translate }}</mat-label> <input matInput formControlName="location" #search required />
                                <mat-error *ngIf="jobCreateForm.get('location').hasError('required')"> Please enter location </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.industry' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.industry' | translate }}</mat-label>
                                <mat-select formControlName="industry" placeholder="Industry" required> <mat-option *ngFor="let list of industryList" [value]="list._id">{{list.name}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('industry').hasError('required')"> Please select industry </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.functional_area' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.functional_area' | translate }}</mat-label>
                                <mat-select formControlName="functionalArea" placeholder="Functional Area" required> 
                                    <mat-option *ngFor="let list of functionalAreaList" [value]="list._id">{{list.name}}</mat-option> </mat-select>
                                <mat-error *ngIf="jobCreateForm.get('functionalArea').hasError('required')"> Please select functional area </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.company_website' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <input type="url" matInput placeholder="e.g; www.google.com" formControlName="companyWebsite" />
                                <mat-error *ngIf="jobCreateForm.get('companyWebsite').hasError('pattern')"> Please enter website url </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.number_of_vacancies' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.number_of_vacancies' | translate }}</mat-label> <input matInput type="text" placeholder="Enter no of Vacancies" mask="00" formControlName="vacancy" required id="myText" (keypress)="isInteger($event)" />
                                <mat-error *ngIf="jobCreateForm.get('vacancy').hasError('required')"> Please enter no. of vacancies </mat-error>
                                <mat-error *ngIf="jobCreateForm.get('vacancy').hasError('minlength')"> Maximum vacancy should be 1 </mat-error>
                                <mat-error *ngIf="jobCreateForm.get('vacancy').hasError('maxlength')"> Maximum vacancy should be 99 </mat-error>
                                <mat-error *ngIf="jobCreateForm.get('vacancy').dirty && jobCreateForm.get('vacancy').hasError('pattern')"> Only number is allowed </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.job.company_name' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.company_name' | translate }}</mat-label> <input matInput placeholder="Company Name" class="text-grey" readonly formControlName="companyName" required maxlength="200" />
                                <mat-error *ngIf="jobCreateForm.get('companyName').hasError('required')"> Please enter company name </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <!-- <h6 class="switch">{{ 'form_lables.job.company_name' | translate }}</h6> -->
                            <h6 class="switch">{{ 'form_lables.validFrom' | translate }}</h6>
                            <mat-form-field class="example-full-width" appearance="outline">
                              <mat-label>{{ 'form_lables.job.start_date' | translate }}</mat-label>
                                <input
                                    matInput
                                    readonly
                                    (click)="pickerStartDate.open()"
                                    (focus)="pickerStartDate.open()"
                                    [ngxMatDatetimePicker]="pickerStartDate"
                                    formControlName="startDate"
                                    placeholder="StartDate/StartTime"
                                    [min]="min"
                                    [max]="maxDate"
                                    [disabled]="disabled"
                                    required
                                />
                                <mat-datepicker-toggle matSuffix [for]="pickerStartDate"></mat-datepicker-toggle>
                                <ngx-mat-datetime-picker
                                    #pickerStartDate
                                    [showSpinners]="showSpinners"
                                    [showSeconds]="showSeconds"
                                    [stepHour]="stepHour"
                                    [stepMinute]="stepMinute"
                                    [stepSecond]="stepSecond"
                                    [touchUi]="touchUi"
                                    [color]="color"
                                    [enableMeridian]="enableMeridian"
                                >
                                </ngx-mat-datetime-picker>
                                <mat-error *ngIf="jobCreateForm.get('startDate').hasError('required')">Please select Walk-in Start Date/Time </mat-error>
                            </mat-form-field>
                            <!-- <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label> </mat-label>
                                <input matInput readonly [matDatepicker]="picker" placeholder="StartDate/StartTime" formControlName="startDate" required />
                                <mat-datepicker-toggle matSuffix [for]="picker"> </mat-datepicker-toggle>
                                <mat-error *ngIf="jobCreateForm.get('startDate').hasError('required')">Please select Walk-in Start Date </mat-error>
                                <mat-datepicker #picker></mat-datepicker>
                              </mat-form-field> -->
                        </div>
                        <div class="col-sm-6">
                            <h6 class="switch">{{ 'form_lables.validUpto' | translate }}</h6>

                            <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label>{{ 'form_lables.job.end_date' | translate }}</mat-label>
                                <input
                                    matInput
                                    readonly
                                    (click)="pickerEndDate.open()"
                                    (focus)="pickerEndDate.open()"
                                    [ngxMatDatetimePicker]="pickerEndDate"
                                    formControlName="endDate"
                                    placeholder="EndDate/EndTime"
                                    [min]="min"
                                    [max]="maxDate"
                                    [disabled]="disabled"
                                    required
                                />
                                <mat-datepicker-toggle matSuffix [for]="pickerEndDate"></mat-datepicker-toggle>
                                <ngx-mat-datetime-picker
                                    #pickerEndDate
                                    [showSpinners]="showSpinners"
                                    [showSeconds]="showSeconds"
                                    [stepHour]="stepHour"
                                    [stepMinute]="stepMinute"
                                    [stepSecond]="stepSecond"
                                    [touchUi]="touchUi"
                                    [color]="color"
                                    [enableMeridian]="enableMeridian"
                                >
                                </ngx-mat-datetime-picker>
                                <mat-error *ngIf="jobCreateForm.get('endDate').hasError('required')">Please select Walk-in End Date/Time </mat-error>
                            </mat-form-field>

                            <!-- <mat-form-field class="example-full-width" appearance="outline">
                                <mat-label> </mat-label>
                                <input matInput readonly [matDatepicker]="pickerEndDate" placeholder="EndDate/EndTime" formControlName="endDate" required />
                                <mat-datepicker-toggle matSuffix [for]="pickerEndDate"> </mat-datepicker-toggle>
                                <mat-error *ngIf="jobCreateForm.get('endDate').hasError('required')">Please select Walk-in End Date </mat-error>
                                <mat-datepicker #pickerEndDate></mat-datepicker>
                              </mat-form-field> -->

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 d-flex justify-content-left">
                            <mat-label>&nbsp;</mat-label>
                            <section class="example-section"><mat-checkbox class="example-margin" formControlName="walkinchk" color="primary" (change)="setWalkInDetails($event)">{{ 'form_lables.job.include_walk_in' | translate }}</mat-checkbox></section>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12" *ngIf="walkInDetails==true">
                            <div class="row">
                                <div class="col-sm-6">
                                    <h6 class="switch">{{ 'form_lables.job.contact_person' | translate }}</h6>
                                    <mat-form-field class="example-full-width mt-1" appearance="outline">
                                        <input matInput placeholder="Recruiter name(if available)" formControlName="contactPerson" maxlength="20" />
                                        <mat-error *ngIf="jobCreateForm.get('contactPerson').hasError('required')"> Please enter contact Person </mat-error>
                                        <mat-error *ngIf="jobCreateForm.get('contactPerson').hasError('pattern')"> Please enter valid contact Person </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-6">
                                    <h6 class="switch">{{ 'form_lables.job.phone_number' | translate }}<span class="cus_redclr">*</span></h6>
                                    <mat-form-field class="example-full-width mt-1 cus-pin-with-no" appearance="outline">
                                        <span class="cus-pin-code">+1</span>
                                        <input matInput placeholder="(000) 000-0000" mask="(000) 000-0000" formControlName="contactNumber" />
                                        <mat-error *ngIf="jobCreateForm.get('contactNumber').hasError('required')"> Please enter phone number </mat-error>
                                        <mat-error *ngIf="jobCreateForm.get('contactNumber').hasError('pattern')"> Please enter valid phone number </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-sm-12">
                                    <h6 class="switch">{{ 'form_lables.job.venue' | translate }}<span class="cus_redclr">*</span></h6>
                                    <mat-form-field class="example-full-width mt-1" appearance="outline">
                                        <textarea matInput placeholder="Type address here" formControlName="venue"></textarea> <mat-error *ngIf="jobCreateForm.get('venue').hasError('pattern')"> Please enter valid input </mat-error>
                                        <mat-error *ngIf="jobCreateForm.get('venue').hasError('required')"> Please enter venue</mat-error>

                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 pro-description">
                            <h6 class="switch mb-4">{{ 'form_lables.job.company_details' | translate }}<span>*</span></h6>
                            <ckeditor [editor]="editor" formControlName="companyDetails" required class="cus-job-diss"></ckeditor>
                            <mat-error style="font-size: 75%;" *ngIf="(jobCreateForm.get('companyDetails').touched && jobCreateForm.get('companyDetails').hasError('required')) || submitted"> Please enter company details </mat-error>
                        </div>
                    </div>
                    <div class="text-right col-sm-12 mt-3"><a routerLink="/layout/myaccount/jobs" class="common-btn btn m-1 mr-3"> {{ 'buttons.back' | translate }} </a> <button (click)="onSubmitJobCreateForm()" class="common-btn btn m-1">{{ 'buttons.post_job' | translate }}</button></div>
                </form>
            </div>
        </div>
    </div>
</section>
