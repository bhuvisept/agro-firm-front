<ngx-spinner class="cusSpinner">
    <div class="loader-wrapper">
        <div class="truck-wrapper">
        <div class="truck">
            <div class="truck-container"></div>
            <div class="glases"></div>
            <div class="bonet"></div>
            <div class="base"></div>
            <div class="base-aux"></div>
            <div class="wheel-back"></div>
            <div class="wheel-front"></div>
            <div class="smoke"></div>
        </div>
        </div>
    </div>
</ngx-spinner>
<section class="trip-planned cus-round-with-bg">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <h4 class="text-left mt-3">{{ 'fleet_manager.heading' | translate }}</h4>
      </div>
      <div class="text-right col-6">
        <!-- <button class="btn common-btn mt-3" [routerLink]="['/layout/myaccount/manage-truck/add-truck']"><i class="fa fa-plus"></i> Add Vehicle</button> -->

        <button class="btn common-btn mt-3" (click)="createVehicle()"><i class="fa fa-plus"></i> {{ 'buttons.add_vehicle' | translate }} </button>
      </div>
      <div class="modal-header col-sm-12" style="padding: 0rem !important">
        <div class="text-right col-sm-12 pb-2">
          <div class="cus-search-input row search-filter-mobile">
            <div class="col-sm-3 pr-sm-0 in-half  wt-100-on-mobile">
              <mat-form-field>
                <div class="cus-search-dropown">
                  <mat-select [(ngModel)]="isActive">
                    <mat-option *ngFor="let list of statusList" [value]="list.value">
                      {{ list.show }}
                    </mat-option>
                  </mat-select>
                </div>
              </mat-form-field>
            </div>
            <div class="col-sm-3 in-half wt-100-on-mobile">
              <mat-form-field>
                <div class="cus-search-dropown">
                  <mat-select [(ngModel)]="deleted">
                    <mat-option *ngFor="let list of deleteList" [value]="list.value">
                      {{ list.show }}
                    </mat-option>
                  </mat-select>
                </div>
              </mat-form-field>
            </div>
            <div class="col-sm-6 cus-search-input mt-sm-4 pl-0 mob-pl-0">
              <input matInput placeholder="Enter name " [(ngModel)]="searchText" autocomplete="off" class="main" maxlength="30" />
              <div class="cus-search-input wt-100-on-mobile-btn">
                <button type="button" class="btn" title="Search" (click)="searchData()"><i class="fa fa-search"></i></button>
                <button (click)="reset()" class="btn btn-res" label="Reset" title="Reset"><i class="fa fa-refresh" title="reset"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body col-sm-12">
        <table class="table table-bordered">
          <thead>
            <tr class="text-center">
              <th scope="col">{{ 'fleet_manager.vehicle_type' | translate }}</th>
              <th scope="col">{{ 'fleet_manager.name' | translate }}</th>
              <th scope="col">{{ 'fleet_manager.weight' | translate }}(lbs)</th>
              <th scope="col">{{ 'fleet_manager.height' | translate }}(in)</th>
              <th scope="col">{{ 'fleet_manager.Image' | translate }}</th>
              <th scope="col">{{ 'fleet_manager.action' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            
            <tr *ngFor="let truck of truckList |  paginate: { itemsPerPage: itemsPerPage, currentPage: page, totalItems: totalCount }; let i = index" class="text-center">
              <td class="pt-5">{{ truck.vechicleType | titlecase }}</td>
              <td class="pt-5">{{ truck.name }}</td>
              <td class="pt-5">{{ truck.weight }}</td>
              <td class="pt-5">{{ truck.height }}</td>
              <td>
                <img *ngIf="truck.image" src="{{ truckPath }}{{ truck.image }}" style="width: 80px; height: 70px; border-radius: 10px" />
                <img *ngIf="!truck.image" src="assets/Truck-banne-bg.png" style="width: 80px; height: 70px; border-radius: 10px" />

              
              </td>
              <td class="pt-4">
                <div class="fa">
                  <i class="fas fa-eye fa-lg view" title="view" [routerLink]="['/layout/myaccount/manage-truck/view-truck', truck._id]"></i>
                  &nbsp;
                  <i class="fas fa-trash fa-lg dustbin" title="Archived" (click)="deleteTruck(truck._id)" *ngIf="!truck.isDeleted"></i>
                  &nbsp;
                  <mat-slide-toggle class="fas" (click)="changeStatus(truck._id, truck.isActive)" [(ngModel)]="truck.isActive" *ngIf="!truck.isDeleted"></mat-slide-toggle>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class=" mt-3">
          <div class="col-md-12 noInfo" *ngIf="noData">
            <p class="text-center"> {{ 'No_Records_Found' | translate }} </p>
          </div>
     
          <div class="col-md-8 m-auto text-center mt-3" *ngIf="totalCount > itemsPerPage">
            <pagination-controls (pageChange)="savePageChanged($event)" autoHide="true" responsive="true" directionLinks="true"></pagination-controls>  
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
